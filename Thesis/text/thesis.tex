\documentclass{report}
\usepackage[english]{babel}
\usepackage[utf8x]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{graphicx}

\usepackage{url}
\usepackage{alltt}
\usepackage{listings}
\usepackage{fancyvrb}
\usepackage{float}
\usepackage[usenames,dvipsnames]{color}
\usepackage{enumerate}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{makeidx}
\usepackage{parskip}
\usepackage{multirow}
\usepackage{moreverb}
\usepackage{proof}
\usepackage{catchfilebetweentags}

\usepackage{agda} 

%\setmainfont{XITS}
%\setmathfont{XITS Math}

\long\def\red#1{\color{red} #1 \color{black}}

\newenvironment{TODO}{%
  \color{blue} \itshape \begin{itemize}
}{%
  \end{itemize}
}

% empty env, maybe later we can add some style to it.
\newenvironment{agdacode}{%
\vspace{.5em}
\hspace{1em}
\begin{minipage}[t]{.8\textwidth}
}{%
\end{minipage}
\vspace{.5em}
}

\newcommand{\Agda}[2]{%
\begin{agdacode}
\ExecuteMetaData[code/agda/excerpts/#1.tex]{#2}
\end{agdacode}
}


\newenvironment{agdacodeInd}{%
\vspace{.5em}
\hspace{-1em}
\begin{minipage}[t]{.8\textwidth}
}{%
\end{minipage}
\vspace{.5em}
}

\long\def\ignore#1{}

\newcommand{\inlagda}[1]{$\mathsf{\small #1}$}
\newcommand{\catname}[1]{\textbf{#1}}

%% Agda shortcuts
\newcommand{\D}[1]{\AgdaDatatype{#1}}
\newcommand{\F}[1]{\AgdaFunction{#1}}
\newcommand{\K}[1]{\AgdaKeyword{#1}}
\newcommand{\N}[1]{\AgdaSymbol{#1}}
\newcommand{\IC}[1]{\AgdaInductiveConstructor{#1}}
\newcommand{\ICArgs}[2]{\AgdaInductiveConstructor{#1}$\; #2 $}
\newcommand{\DArgs}[2]{\D{#1}$\; #2 $}

%for some reasons, LaTeX does not like unicode chars outside math mode.
%therefore we have to define them here.
\newcommand{\textrho}{$\rho$}

\title{Victor's Thesis Template}
\author{Victor}

\begin{document}
\maketitle
\tableofcontents

\theoremstyle{plain}
\newtheorem{thm}{Theorem}[chapter]
\newtheorem{crl}{Corolary}[chapter]
\newtheorem{prob}{Problem}[chapter]
\newtheorem{prop}{Proposition}[chapter]

\theoremstyle{definition}
\newtheorem{lemma}{Lemma}[chapter]
\newtheorem{mydef}{Definition}[chapter]
\newtheorem{notation}{Notation}[chapter]

\theoremstyle{remark}
\newtheorem{nota}{Note}[chapter]

\chapter{Prelude}
\label{chap:prelude}

  \section{Introduction}
  \label{sec:prelude:introduction}
  \input{text/Intro}
  
  \section{The Agda language}
  \label{sec:prelude:agdalanguage}
  \input{text/Agda_prelude}
  
  \section{The Problem}
  \label{sec:prelude:theproblem}
  \input{text/Problem}
  
\chapter{Background}
\label{chap:background}
\input{text/Background_prelude}

  \section{Notes on $\lambda$-calculus and Types}
  \label{sec:background:lambdacalculus}
  \input{text/Background_LambdaCalc}
  
  \section{Martin-LÃ¶f's Type Theory}
  \label{sec:background:martinlof}
  \input{text/Background_MartinLof}
  
\chapter{Relational Algebra in Agda}
\label{chap:relationalalgebra}
\input{text/RelationalAlgebra_prelude}
  
\chapter{Notes on Reflection}
\label{chap:reflection}
\input{text/Reflection_prelude}


\bibliographystyle{alpha}
\bibliography{references}

\end{document}
